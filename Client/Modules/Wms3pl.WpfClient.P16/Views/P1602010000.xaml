<?xml version="1.0" encoding="utf-8"?>
<uiLib:Wms3plUserControl x:Class="Wms3pl.WpfClient.P16.Views.P1602010000" xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" mc:Ignorable="d" xmlns:uiLib="clr-namespace:Wms3pl.WpfClient.UILib;assembly=Wms3pl.WpfClient.UILib" xmlns:controls="clr-namespace:Wms3pl.WpfClient.UILib.Controls;assembly=Wms3pl.WpfClient.UILib" xmlns:common="clr-namespace:Wms3pl.WpfClient.Common;assembly=Wms3pl.WpfClient.Common" xmlns:viewModel="clr-namespace:Wms3pl.WpfClient.P16.ViewModel" xmlns:Properties="clr-namespace:Wms3pl.WpfClient.P16.Properties" xmlns:res="clr-namespace:Wms3pl.WpfClient.Resources;assembly=Wms3pl.WpfClient.Resources" xmlns:converters="clr-namespace:Wms3pl.WpfClient.Common.Converters;assembly=Wms3pl.WpfClient.Common" xmlns:views="clr-namespace:Wms3pl.WpfClient.UcLib.Views;assembly=Wms3pl.WpfClient.UcLib" xmlns:ucLib="clr-namespace:Wms3pl.WpfClient.UcLib;assembly=Wms3pl.WpfClient.UcLib" x:Name="Window" Margin="0,0,0,0" HorizontalAlignment="Stretch" FontSize="18" MinWidth="800" controls:PermissionService.FunctionId="P1602010000" controls:PermissionService.FunctionName="廠退單維護" FormException="{Binding Exception}">
  <uiLib:Wms3plUserControl.DataContext>
    <viewModel:P1602010000_ViewModel x:Name="Vm" />
  </uiLib:Wms3plUserControl.DataContext>
  <uiLib:Wms3plUserControl.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/Wms3pl.WpfClient.UILib;component/Generic.xaml" />
      </ResourceDictionary.MergedDictionaries>
      <common:NotConverter x:Key="NotConverter" />
      <converters:EnumToVisibilityConverter x:Key="EnumToVisibilityConverter" />
      <converters:BoolToVisiablityConverter x:Key="BoolToVisiablityConverter" />
      <converters:DateTimeToStringConverter x:Key="DateTimeToStringConverter" />
      <converters:StringToBoolConverter x:Key="StringToBoolConverter" />
      <converters:DataGridRowNumberConverter x:Key="DataGridRowNumberConverter" />
      <converters:StringToLocCodeConverter x:Key="StringToLocCodeConverter" />
            <FrameworkElement x:Key="ProxyElement" DataContext="{Binding}"></FrameworkElement>
        </ResourceDictionary>
  </uiLib:Wms3plUserControl.Resources>
  <telerik:RadBusyIndicator x:Name="GridBusyIndicator" BusyContent="{x:Static res:Resources.Loading}" IsIndeterminate="False" IsBusy="{Binding IsBusy}">
    <uiLib:BasicMaster x:Name="Master">
      <uiLib:BasicMaster.ToolBarArea>
        <WrapPanel>
          <Button Style="{StaticResource SearchButton}" controls:PermissionService.FunctionId="BP1602010001" Command="{Binding SearchCommand}" />
          <Button Style="{StaticResource AddButton}" controls:PermissionService.FunctionId="BP1602010002" Command="{Binding AddCommand}" Click="AddNewButton_OnClick" />
          <Button Style="{StaticResource EditButton}" controls:PermissionService.FunctionId="BP1602010003" Command="{Binding EditCommand}" />
          <Button Style="{StaticResource CancelButton}" controls:PermissionService.FunctionId="BP1602010004" Command="{Binding CancelCommand}" Click="CancelButton_OnClick" />
          <Button Style="{StaticResource DeleteButton}" controls:PermissionService.FunctionId="BP1602010005" Command="{Binding DeleteCommand}" />
          <Button Style="{StaticResource SaveButton}" controls:PermissionService.FunctionId="BP1602010006" Command="{Binding SaveCommand}" IsEnabled="{Binding Path=(Validation.HasError), ElementName=LayoutRoot, Converter={StaticResource NotConverter}}" />
          <Button Style="{StaticResource PreviewButton}" controls:PermissionService.FunctionId="BP1602010013" Command="{Binding PrintCommand}" CommandParameter="{x:Static uiLib:PrintType.Preview}" />
          <Button Style="{StaticResource PrintButton}" controls:PermissionService.FunctionId="BP1602010014" Command="{Binding PrintCommand}" CommandParameter="{x:Static uiLib:PrintType.ToPrinter}" />
          <Button Style="{StaticResource ImportButton}" controls:PermissionService.FunctionId="BP1602010015" Command="{Binding ImportCommand}" />
        </WrapPanel>
      </uiLib:BasicMaster.ToolBarArea>
      <uiLib:BasicMaster.MainContent>
        <TabControl x:Name="LayoutRoot">
          <TabControl.BindingGroup>
            <BindingGroup Name="errorGroup" />
          </TabControl.BindingGroup>
          <TabItem Header="{x:Static res:Resources.Main}" Width="Auto">
            <DockPanel>
                            <ContentControl Visibility="Collapsed" Content="{StaticResource ProxyElement}"></ContentControl>
                            <ScrollViewer>
                <DockPanel>
                                    
                                    <!--查詢模式-->
                  <DockPanel Visibility="{Binding UserOperateMode ,Converter={StaticResource EnumToVisibilityConverter},ConverterParameter={x:Static uiLib:OperateMode.Query}}">
                    <DockPanel DockPanel.Dock="Top" HorizontalAlignment="Stretch" Background="Beige">
                      <WrapPanel HorizontalAlignment="Center">
                        <TextBlock Text="{x:Static Properties:Resources.CREAT_VNR_RTN}" VerticalAlignment="Center" TextAlignment="Center" Margin="10,5,10,5" />
                        <TextBlock Text="&gt;&gt;" VerticalAlignment="Center" TextAlignment="Center" Margin="5" />
                        <TextBlock Text="{x:Static Properties:Resources.VNR_RTN_EXPORT}" VerticalAlignment="Center" TextAlignment="Center" Margin="10,5,10,5" />
                        <TextBlock Text="&gt;&gt;" VerticalAlignment="Center" TextAlignment="Center" Margin="5" />
                        <TextBlock Text="{x:Static Properties:Resources.VNR_RTN_COMPELETE}" VerticalAlignment="Center" TextAlignment="Center" Margin="10,5,10,5" />
                      </WrapPanel>
                    </DockPanel>
                    <DockPanel DockPanel.Dock="Top">
                      <GroupBox Header="{x:Static res:Resources.QueryCondition}">
                        <DockPanel>
                          <Expander IsExpanded="{Binding IsShowSearchCondition,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                            <WrapPanel DockPanel.Dock="TOP" Margin="5">
                              <Grid>
                                <Grid.RowDefinitions>
                                  <RowDefinition Height="*" />
                                  <RowDefinition Height="*" />
                                  <RowDefinition Height="*" />
                                  <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                  <ColumnDefinition Width="Auto" />
                                  <ColumnDefinition Width="210" />
                                  <ColumnDefinition Width="Auto" />
                                  <ColumnDefinition Width="Auto" />
                                  <ColumnDefinition Width="Auto" />
                                  <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Label Grid.Row="0" Grid.Column="0" Content="{x:Static res:Resources.Dc}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                <ComboBox Name="DcComboBox" Grid.Row="0" Grid.Column="1" Style="{StaticResource ComboStyle}" ItemsSource="{Binding DcCodes}" Width="200" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding DcCodeForSearch, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
                                <Label Grid.Row="0" Grid.Column="2" Content="{x:Static res:Resources.CRT_DATE}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                <DatePicker Grid.Row="0" Grid.Column="3" Style="{StaticResource DateStyle}" SelectedDate="{Binding CreateDateBeginForSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                <Label Content=" ~ " Grid.Row="0" Grid.Column="4" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                <DatePicker Grid.Row="0" Grid.Column="5" Style="{StaticResource DateStyle}" SelectedDate="{Binding CreateDateEndForSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                <Label Grid.Row="1" Grid.Column="0" Content="{x:Static Properties:Resources.ReceiptNoForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                <TextBox Grid.Row="1" Grid.Column="1" Width="200" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" Text="{Binding ReceiptNoForSearch,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                <Label Grid.Row="1" Grid.Column="2" Content="{x:Static Properties:Resources.PostingDateS}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                <DatePicker Grid.Row="1" Grid.Column="3" Style="{StaticResource DateStyle}" SelectedDate="{Binding PostingDateBeginForSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                <Label Content=" ~ " Grid.Row="1" Grid.Column="4" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                <DatePicker Grid.Row="1" Grid.Column="5" Style="{StaticResource DateStyle}" SelectedDate="{Binding PostingDateEndForSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                <Label Grid.Row="2" Grid.Column="0" Content="{x:Static Properties:Resources.SearchCUST_ORD_NO}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                <TextBox Grid.Row="2" Grid.Column="1" Width="200" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" Text="{Binding CustReceiptNoForSearch,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                <Label Grid.Row="2" Grid.Column="2" Content="{x:Static Properties:Resources.SelectSTATUS}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                <ComboBox Grid.Row="2" Grid.Column="3" Style="{StaticResource ComboStyle}" ItemsSource="{Binding ReceiptStatusSource}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding ReceiptStatusForSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                <Label Grid.Row="2" Grid.Column="4" Content="{x:Static Properties:Resources.VendorCodeForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                <TextBox Grid.Row="2" Grid.Column="5" Width="150" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" Text="{Binding VendorCodeForSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                <Label Grid.Row="3" Grid.Column="0" Content="{x:Static Properties:Resources.VendorNameForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" Foreground="Blue" />
                                <TextBox Grid.Row="3" Grid.Column="1" Width="200" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" Text="{Binding VendorNameForSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                              </Grid>
                            </WrapPanel>
                          </Expander>
                        </DockPanel>
                      </GroupBox>
                    </DockPanel>
                    <DockPanel DockPanel.Dock="Top">
                      <GroupBox Header="{x:Static res:Resources.OueryResult}">
                        <DockPanel>
                          <Expander IsExpanded="{Binding IsShowSearchResult,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
														<DataGrid Style="{StaticResource DgStyle}" ItemsSource="{Binding F160201List,UpdateSourceTrigger=PropertyChanged}" SelectedItem="{Binding SelectedF160201,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" MaxHeight="200">
                              <DataGrid.Columns>
                                <DataGridTextColumn Header="{x:Static res:Resources.CRT_DATE}" Binding="{Binding CRT_DATE,Converter={StaticResource DateTimeToStringConverter}, ConverterParameter='yyyy/MM/dd',Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.PostingDateS}" Binding="{Binding POSTING_DATE,Converter={StaticResource DateTimeToStringConverter}, ConverterParameter='yyyy/MM/dd',Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.ReceiptNoForSearch}" Binding="{Binding RTN_VNR_NO, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.SearchCUST_ORD_NO}" Binding="{Binding CUST_ORD_NO, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.SelectSTATUS}" Binding="{Binding STATUS_TEXT, UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.VendorCodeForSearch}" Binding="{Binding VNR_CODE,UpdateSourceTrigger=PropertyChanged}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.VendorNameForSearch}" Binding="{Binding VNR_NAME,UpdateSourceTrigger=PropertyChanged}" />
															</DataGrid.Columns>
                            </DataGrid>
                          </Expander>
                        </DockPanel>
                      </GroupBox>
                    </DockPanel>
                    <Border BorderBrush="Gray" Visibility="{Binding IsShowDetailData ,Converter={StaticResource BoolToVisiablityConverter},Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                      <DockPanel>
                        <WrapPanel DockPanel.Dock="TOP" Margin="5">
                          <Grid>
                            <Grid.RowDefinitions>
                              <RowDefinition />
                              <RowDefinition />
                              <RowDefinition />
                              <RowDefinition />
                              <RowDefinition />
                              <RowDefinition />
                              <RowDefinition />
                              <RowDefinition />
                              <RowDefinition />
                              <RowDefinition />
                              <RowDefinition />
                              <RowDefinition />
                              <RowDefinition />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                              <ColumnDefinition Width="Auto" />
                              <ColumnDefinition Width="Auto" />
                              <ColumnDefinition Width="Auto" />
                              <ColumnDefinition Width="Auto" />
                              <ColumnDefinition Width="Auto" />
                              <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Label Grid.Row="0" Grid.Column="0" Content="{x:Static res:Resources.Dc}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="0" Grid.Column="1" Width="155" VerticalAlignment="Center" IsReadOnly="True" Style="{StaticResource TxtStyle}" Text="{Binding SelectedF160201DcName,UpdateSourceTrigger=PropertyChanged}" />
                            <Label Grid.Row="0" Grid.Column="2" Content="{x:Static Properties:Resources.ReceiptNoForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="0" Grid.Column="3" Width="200" VerticalAlignment="Center" IsReadOnly="True" Style="{StaticResource TxtStyle}" Grid.ColumnSpan="2" Text="{Binding SelectedF160201.RTN_VNR_NO}" />
                            <Label Grid.Row="0" Grid.Column="4" Content="{x:Static Properties:Resources.SearchCUST_ORD_NO}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="0" Grid.Column="5" Width="155" VerticalAlignment="Center" IsReadOnly="True" Style="{StaticResource TxtStyle}" Text="{Binding SelectedF160201.CUST_ORD_NO}" />
                            <Label Grid.Row="1" Grid.Column="0" Content="{x:Static Properties:Resources.SelectSTATUS}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="1" Grid.Column="1" Width="155" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding SelectedF160201.STATUS_TEXT}" />
                            <Label Grid.Row="1" Grid.Column="2" Content="{x:Static Properties:Resources.ORD_PROP}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="1" Grid.Column="3" Width="200" VerticalAlignment="Center" Grid.ColumnSpan="3" IsReadOnly="True" Style="{StaticResource TxtStyle}" Text="{Binding SelectedF160201.ORD_PROP_TEXT}" />
														<Label Grid.Row="1" Grid.Column="4" Content="{x:Static Properties:Resources.P1602010000_DeliveryWay}"  HorizontalAlignment="Right" Style="{StaticResource LbStyle}"></Label>
														<ComboBox Grid.Row="1" Grid.Column="5" Style="{StaticResource ComboStyle}" ItemsSource="{Binding DeliveryWayList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding SelectedF160201.DELIVERY_WAY, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="False" />
														<Label Grid.Row="2" Grid.Column="0" Content="{x:Static Properties:Resources.RTN_VNR_DATE}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="2" Grid.Column="1" VerticalAlignment="Center" IsReadOnly="True" Width="155" Style="{StaticResource TxtStyle}" Text="{Binding SelectedF160201.RTN_VNR_DATE,Converter={StaticResource DateTimeToStringConverter}, ConverterParameter='yyyy/MM/dd'}" />
                            <Label Grid.Row="2" Grid.Column="2" Content="{x:Static Properties:Resources.RTN_VNR_TYPE_TEXT}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="2" Grid.Column="3" Width="200" VerticalAlignment="Center" IsReadOnly="True" Style="{StaticResource TxtStyle}" Text="{Binding  SelectedF160201.RTN_VNR_TYPE_TEXT}" />
                            <!--<Label Grid.Row="2" Grid.Column="4" Content="{x:Static Properties:Resources.RTN_VNR_CAUSE_TEXT}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="2" Grid.Column="5" Width="155" VerticalAlignment="Center" IsReadOnly="True" Style="{StaticResource TxtStyle}" Text="{Binding SelectedF160201.RTN_VNR_CAUSE_TEXT}" />-->
                            <Label Grid.Row="3" Grid.Column="0" Content="{x:Static Properties:Resources.VendorCodeForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="3" Grid.Column="1" Width="155" VerticalAlignment="Center" IsReadOnly="True" Style="{StaticResource TxtStyle}" Text="{Binding SelectedF160201.VNR_CODE}" />
                            <Label Grid.Row="3" Grid.Column="2" Content="{x:Static Properties:Resources.VendorNameForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="3" Grid.Column="3" Width="200" VerticalAlignment="Center" Grid.ColumnSpan="3" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding SelectedF160201.VNR_NAME}" />
                            <Label Grid.Row="3" Grid.Column="4" Content="{x:Static Properties:Resources.COSTCENTER}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="3" Grid.Column="5" Width="155" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding SelectedF160201.COST_CENTER}" />
                            <Label Grid.Row="4" Grid.Column="0" Content="{x:Static Properties:Resources.ADDRESS}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                                        <TextBox Grid.Row="4" Grid.Column="1" Width="450" VerticalAlignment="Center" Grid.ColumnSpan="3" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding SelectedF160201.ADDRESS}" />
														<Label Grid.Row="4" Grid.Column="4" Content="{x:Static Properties:Resources.P1602010000_TYPE_ID}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
														<ComboBox Grid.Row="4" Grid.Column="5" VerticalAlignment="Center" Style="{StaticResource ComboStyle}" ItemsSource="{Binding WarehouseTypeList}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding SelectedF160201.TYPE_ID, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" IsEnabled="False" />
														<Label Grid.Row="6" Grid.Column="0" Content="{x:Static Properties:Resources.CONTACT}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                                        <TextBox Grid.Row="6" Grid.Column="1" Width="155" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding SelectedF160201.ITEM_CONTACT}" />
                            <Label Grid.Row="6" Grid.Column="2" Content="{x:Static Properties:Resources.TEL}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                                        <TextBox Grid.Row="6" Grid.Column="3" Width="200" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding SelectedF160201.ITEM_TEL}" />
                            <Label Grid.Row="6" Grid.Column="4" Content="{x:Static Properties:Resources.PostingDateS}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="6" Grid.Column="5" Width="155" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding SelectedF160201.POSTING_DATE,Converter={StaticResource DateTimeToStringConverter}, ConverterParameter='yyyy/MM/dd'}" />
                            <Label Grid.Row="7" Grid.Column="0" Content="{x:Static res:Resources.CRT_STAFF}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="7" Grid.Column="1" Width="155" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding SelectedF160201.CRT_NAME}" />
                            <Label Grid.Row="7" Grid.Column="2" Content="{x:Static Properties:Resources.CRT_DATE}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="7" Grid.Column="3" Width="200" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding SelectedF160201.CRT_DATE,Converter={StaticResource DateTimeToStringConverter}, ConverterParameter='yyyy/MM/dd HH:mm'}" />
                            <Label Grid.Row="8" Grid.Column="0" Content="{x:Static res:Resources.UPD_STAFF}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="8" Grid.Column="1" Width="155" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding SelectedF160201.UPD_NAME}" />
                            <Label Grid.Row="8" Grid.Column="2" Content="{x:Static Properties:Resources.UPD_DATE}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="8" Grid.Column="3" Width="200" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding SelectedF160201.UPD_DATE,Converter={StaticResource DateTimeToStringConverter}, ConverterParameter='yyyy/MM/dd HH:mm'}" />
                                                       
                            
                            <!--<Label Grid.Row="8" Grid.Column="2" Content="{x:Static Properties:Resources.MEMO}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                            <TextBox Grid.Row="8" Grid.Column="3" Width="460" VerticalAlignment="Center" Grid.ColumnSpan="3" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding SelectedF160201.MEMO}" />-->
                          </Grid>
                        </WrapPanel>
                        <WrapPanel DockPanel.Dock="Top">
                          <StackPanel Orientation="Horizontal">
                            <Label Content="{x:Static Properties:Resources.SelectDetailCount}" FontWeight="Bold" Foreground="Blue" Style="{StaticResource LbStyle}" />
                            <Label FontWeight="Bold" Foreground="Blue" Style="{StaticResource LbStyle}" Content="{Binding SelectedF160201DetailList.Count}" />
                          </StackPanel>
                        </WrapPanel>
                        <GroupBox Header="{x:Static Properties:Resources.VENDOR_RETURN_DETAIL}" DockPanel.Dock="Top">
                          <DockPanel>
                            <DataGrid Style="{StaticResource DgStyle}" ItemsSource="{Binding SelectedF160201DetailList}">
                              <DataGrid.Columns>
                                <DataGridTextColumn Header="{x:Static res:Resources.ItemNumber}">
                                  <DataGridTextColumn.Binding>
                                    <MultiBinding Converter="{StaticResource DataGridRowNumberConverter}">
                                      <Binding />
                                      <Binding RelativeSource="{RelativeSource FindAncestor,AncestorType=DataGrid}" />
                                    </MultiBinding>
                                  </DataGridTextColumn.Binding>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_CODE}" Binding="{Binding ITEM_CODE}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_NAME}" Binding="{Binding ITEM_NAME}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_SIZE}" Binding="{Binding ITEM_SIZE}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_SPEC}" Binding="{Binding ITEM_SPEC}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_COLOR}" Binding="{Binding ITEM_COLOR}" />
                                <!--<DataGridTextColumn Header="{x:Static Properties:Resources.SRC_WAREHOUSE_NAME}" Binding="{Binding WAREHOUSE_NAME}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.SRC_LOC}" Binding="{Binding LOC_CODE,Converter={StaticResource StringToLocCodeConverter}}" />-->
                                <DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_QTY}" Binding="{Binding RTN_VNR_QTY}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.RTN_WMS_QTY}" Binding="{Binding RTN_WMS_QTY}" />
                                <DataGridTextColumn Header="{x:Static Properties:Resources.NOT_RTN_WMS_QTY}" Binding="{Binding NOT_RTN_WMS_QTY}" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.MAKE_NO}" Binding="{Binding MAKE_NO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_CAUSE_TEXT}" Binding="{Binding RTN_VNR_CAUSE_NAME, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_CAUSE_DESC}" Binding="{Binding MEMO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
																<!--<DataGridTextColumn Header="{x:Static Properties:Resources.MEMO}" Binding="{Binding MEMO}" />-->
                              </DataGrid.Columns>
                            </DataGrid>
                          </DockPanel>
                        </GroupBox>
                      </DockPanel>
                    </Border>
                  </DockPanel>
                  <!--新增模式-->
                  <DockPanel Visibility="{Binding UserOperateMode ,Converter={StaticResource EnumToVisibilityConverter},ConverterParameter={x:Static uiLib:OperateMode.Add}}">
                    <DockPanel DockPanel.Dock="Top" HorizontalAlignment="Stretch" Background="Beige">
                      <WrapPanel HorizontalAlignment="Center">
                        <TextBlock Text="{x:Static Properties:Resources.CREAT_VNR_RTN}" VerticalAlignment="Center" Foreground="Red" TextAlignment="Center" Margin="10,5,10,5" />
                        <TextBlock Text="&gt;&gt;" VerticalAlignment="Center" TextAlignment="Center" Margin="5" />
                        <TextBlock Text="{x:Static Properties:Resources.VNR_RTN_EXPORT}" VerticalAlignment="Center" TextAlignment="Center" Margin="10,5,10,5" />
                        <TextBlock Text="&gt;&gt;" VerticalAlignment="Center" TextAlignment="Center" Margin="5" />
                        <TextBlock Text="{x:Static Properties:Resources.VNR_RTN_COMPELETE}" VerticalAlignment="Center" TextAlignment="Center" Margin="10,5,10,5" />
                      </WrapPanel>
                    </DockPanel>
                    <WrapPanel DockPanel.Dock="Top" Margin="1">
                      <Grid>
                        <Grid.RowDefinitions>
                          <RowDefinition />
                          <RowDefinition />
                          <RowDefinition />
                          <RowDefinition />
                          <RowDefinition />
                          <RowDefinition />
                          <RowDefinition />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Label Grid.Row="0" Grid.Column="0" Content="{x:Static res:Resources.Dc}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <ComboBox Name="DcComboBoxForAddNew" Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" Style="{StaticResource ComboStyle}" ItemsSource="{Binding DcCodes}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding AddNewF160201.DC_CODE, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="0" Grid.Column="2" Content="{x:Static Properties:Resources.ORD_PROP}" Style="{StaticResource LbTitleStyle}" />
                        <ComboBox Grid.Row="0" Grid.Column="3" VerticalAlignment="Center" Style="{StaticResource ComboStyle}" ItemsSource="{Binding ChangeTypes}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding AddNewF160201.ORD_PROP, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
                                                <Label Grid.Row="0" Grid.Column="4" Content="{x:Static Properties:Resources.SearchCUST_ORD_NO}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                                <TextBox Grid.Row="0" Grid.Column="5" Width="150" Grid.ColumnSpan="3" Style="{StaticResource TxtStyle}" Text="{Binding AddNewF160201.CUST_ORD_NO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                                <Label Grid.Row="1" Grid.Column="4" Content="{x:Static Properties:Resources.RTN_VNR_DATE}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <DatePicker Grid.Row="1" Grid.Column="5" Style="{StaticResource DateStyle}" SelectedDate="{Binding AddNewF160201.RTN_VNR_DATE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="1" Grid.Column="0" Content="{x:Static Properties:Resources.RTN_VNR_TYPE_TEXT}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <ComboBox Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Style="{StaticResource ComboStyle}" ItemsSource="{Binding ReturnTypes}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding AddNewF160201.RTN_VNR_TYPE_ID, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
												<Label Grid.Row="1" Grid.Column="2" Content="{x:Static Properties:Resources.P1602010000_TYPE_ID}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <ComboBox Grid.Row="1" Grid.Column="3" VerticalAlignment="Center" Style="{StaticResource ComboStyle}" ItemsSource="{Binding WarehouseTypeList}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding AddNewF160201.TYPE_ID, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="2" Grid.Column="0" Content="{x:Static Properties:Resources.VendorCodeForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
												<ucLib:UcVendorTextBox Grid.Row="2" Grid.Column="1" Width="150" HorizontalAlignment="Left" Style="{StaticResource TxtStyle}" VnrName="{Binding AddNewF160201VendorName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Address="{Binding AddNewF160201.ADDRESS, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" ItemContact="{Binding AddNewF160201.ITEM_CONTACT, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  ItemTel="{Binding AddNewF160201.ITEM_TEL, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" DeliveryWay="{Binding AddNewF160201.DELIVERY_WAY, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True}"  Text="{Binding AddNewF160201.VNR_CODE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True}" F1908Data="{Binding SelectedF1908, ElementName=ucVendorButton, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" HasResult="{Binding HasVendor, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" AfterResultChanged="Add_AfterVendorChanged" />
                        <views:UcVendorButton Grid.Row="2" Grid.Column="2" x:Name="ucVendorButton" />
												<Label Grid.Row="2" Grid.Column="4" Content="{x:Static Properties:Resources.P1602010000_DeliveryWay}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}"></Label>
												<ComboBox Grid.Row="2" Grid.Column="5" Style="{StaticResource ComboStyle}" ItemsSource="{Binding DeliveryWayList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding AddNewF160201.DELIVERY_WAY, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  />

												<Label Grid.Row="3" Grid.Column="0" Content="{x:Static Properties:Resources.VendorNameForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <TextBox Grid.Row="3" Grid.Column="1" Width="475" Grid.ColumnSpan="3"  IsReadOnly="True" Style="{StaticResource TxtStyle}" Text="{Binding AddNewF160201VendorName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="4" Grid.Column="0" Content="{x:Static Properties:Resources.COSTCENTER}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <TextBox Grid.Row="4" Grid.Column="1" Width="150" MaxLength="50" Style="{StaticResource TxtStyle}" Text="{Binding AddNewF160201.COST_CENTER, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="4" Grid.Column="2" Content="{x:Static Properties:Resources.ADDRESS}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
												<TextBox Grid.Row="4" Grid.Column="3" Width="475" Grid.ColumnSpan="3" Style="{StaticResource TxtStyle}" Text="{Binding AddNewF160201.ADDRESS,Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="5" Grid.Column="0" Content="{x:Static Properties:Resources.CONTACT}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
												<TextBox Grid.Row="5" Grid.Column="1" Width="150"  Style="{StaticResource TxtStyle}" Text="{Binding AddNewF160201.ITEM_CONTACT,Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="5" Grid.Column="2" Content="{x:Static Properties:Resources.TEL}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
												<TextBox Grid.Row="5" Grid.Column="3" Width="150" Style="{StaticResource TxtStyle}" Text="{Binding AddNewF160201.ITEM_TEL,Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
                        <!--<Label Grid.Row="6" Grid.Column="0" Content="{x:Static Properties:Resources.MEMO}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <TextBox Grid.Row="6" Grid.Column="1" Width="800" Grid.ColumnSpan="5" Style="{StaticResource TxtStyle}" MaxLength="300" Text="{Binding AddNewF160201.MEMO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />-->
                      </Grid>
                    </WrapPanel>
                    <GroupBox Header="{x:Static Properties:Resources.VENDOR_RETURN_ITEM}" DockPanel.Dock="Top">
                        <DockPanel>
                            <WrapPanel DockPanel.Dock="Top" Margin="1">
                             <views:UcSearchProduct 
                                 ItemCode="{Binding DataContext.ITEM_CODE,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Source={StaticResource ProxyElement}}" 
                                 ItemName="{Binding DataContext.ITEM_NAME,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Source={StaticResource ProxyElement}}" 
                                 ItemSize="{Binding DataContext.ITEM_SIZE,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Source={StaticResource ProxyElement}}" 
                                 ItemSpec="{Binding DataContext.ITEM_SPEC,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Source={StaticResource ProxyElement}}" 
                                 ItemColor="{Binding DataContext.ITEM_COLOR,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Source={StaticResource ProxyElement}}" 
                                 SerialNo="{Binding DataContext.SERIAL_NO,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Source={StaticResource ProxyElement}}" />
                            </WrapPanel>
                            <WrapPanel DockPanel.Dock="Top" Margin="1" HorizontalAlignment="Left">
                                <Label Content="{x:Static Properties:Resources.ReturnTotalCount}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
													<TextBox Text="{Binding RTN_VNR_QTY, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="155" HorizontalAlignment="Left" HorizontalContentAlignment="Right" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" MaxLength="6" InputMethod.IsInputMethodEnabled="False"  Height="35"/>
																<Label Margin="50,0,0,0" Content="{x:Static Properties:Resources.MAKE_NO}"  Style="{StaticResource LbTitleStyle}" />
													<TextBox Text="{Binding MAKE_NO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="155" HorizontalAlignment="Left" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" MaxLength="40" InputMethod.IsInputMethodEnabled="False" Height="35" />
												</WrapPanel>
												<WrapPanel DockPanel.Dock="Top" Margin="1" HorizontalAlignment="Left">
													<Label Content="{x:Static Properties:Resources.RTN_VNR_CAUSE_TEXT}" Style="{StaticResource LbTitleStyle}"/>
													<ComboBox Style="{StaticResource ComboStyle}" ItemsSource="{Binding ReturnReasons}" SelectedValue="{Binding RTN_VNR_CAUSE,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"  DisplayMemberPath="Name" SelectedValuePath="Value"  />
													<Label Margin="15,0,0,0" Content="{x:Static Properties:Resources.RTN_VNR_CAUSE_DESC}" Style="{StaticResource LbTitleStyle}"/>
													<TextBox Text="{Binding MEMO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="400" HorizontalAlignment="Left" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" MaxLength="100" Height="35"/>
												</WrapPanel>
												<WrapPanel DockPanel.Dock="Top" Margin="5" HorizontalAlignment="Left">
                                    <Button Content="{x:Static Properties:Resources.AddDetail}" Width="100" Height="35" Click="AddNewModeAddDetailButton_Click" Command="{Binding AddDetailCommand}" controls:PermissionService.FunctionId="BP1602010007" />
                                    <Button Content="{x:Static Properties:Resources.MODIFY_DETAIL}" Width="100" Height="35" Margin="20,0,0,0"  Command="{Binding ModifyDetailCommand}" controls:PermissionService.FunctionId="BP1602010008" />
                                    <Button Content="{x:Static Properties:Resources.DeltetDetail}" Width="100" Height="35" Margin="20,0" Click="AddNewModeDeleteDetailButton_Click" Command="{Binding DeleteDetailCommand}" controls:PermissionService.FunctionId="BP1602010009" />
                                </WrapPanel>
                            <DockPanel DockPanel.Dock="Top">
                                <controls:ValidationDataGrid Style="{StaticResource DgStyle}" Margin="5" DockPanel.Dock="Top" IsReadOnly="False" Name="AddNewReturnDetailDataGrid" CellStyle="{StaticResource WinSingleRowEdit}" SelectionUnit="FullRow" SelectionMode="Single" ItemsSource="{Binding AddNewF160201DetailList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" SelectedItem="{Binding SelectedReturnDetaiItemForAddNew,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                                <DataGrid.Columns>
                                    <DataGridCheckBoxColumn IsReadOnly="False" Binding="{Binding IsSelected,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                        <DataGridCheckBoxColumn.HeaderTemplate>
                                            <DataTemplate>
                                                <CheckBox IsChecked="{Binding IsEditSelectedAll, ElementName=Vm, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Command="{Binding CheckEditAllCommand, ElementName=Vm}" Content="{x:Static res:Resources.SelectAll}"></CheckBox>
                                            </DataTemplate>
                                        </DataGridCheckBoxColumn.HeaderTemplate>
                                    </DataGridCheckBoxColumn>
                                    <DataGridTextColumn Header="{x:Static res:Resources.ItemNumber}" IsReadOnly="True">
                                        <DataGridTextColumn.Binding>
                                            <MultiBinding Converter="{StaticResource DataGridRowNumberConverter}">
                                                <Binding />
                                                <Binding RelativeSource="{RelativeSource FindAncestor,AncestorType=DataGrid}" />
                                            </MultiBinding>
                                        </DataGridTextColumn.Binding>
                                    </DataGridTextColumn>
                                    <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_CODE}" Binding="{Binding Item.ITEM_CODE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                                    <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_NAME}" Binding="{Binding Item.ITEM_NAME, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                                    <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_SIZE}" Binding="{Binding Item.ITEM_SIZE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                                    <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_SPEC}" Binding="{Binding Item.ITEM_SPEC, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                                    <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_COLOR}" Binding="{Binding Item.ITEM_COLOR, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                                    <!--<DataGridTextColumn Header="{x:Static Properties:Resources.SRC_WAREHOUSE_NAME}" Binding="{Binding Item.WAREHOUSE_NAME, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                                    <DataGridTextColumn Header="{x:Static Properties:Resources.SRC_LOC}" Binding="{Binding Item.LOC_CODE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,Converter={StaticResource StringToLocCodeConverter}}" IsReadOnly="True" />
                                    <DataGridTextColumn Header="{x:Static Properties:Resources.LOC_QTY}" Binding="{Binding Item.INVENTORY_QTY, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />-->
                                    <DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_QTY}" Binding="{Binding Item.RTN_VNR_QTY, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True,UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                                       <!--<DataGridTextColumn.EditingElementStyle>
                                            <Style TargetType="TextBox">
                                                <Setter Property="MaxLength" Value="6" />
                                                <Setter Property="InputMethod.IsInputMethodEnabled" Value="False"/>
                                            </Style>
                                        </DataGridTextColumn.EditingElementStyle>
                                    </DataGridTextColumn>-->
                                    <!--<DataGridTextColumn Header="{x:Static Properties:Resources.MEMO}" Binding="{Binding Item.MEMO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="False" >
                                        <DataGridTextColumn.EditingElementStyle>
                                            <Style TargetType="TextBox">
                                                <Setter Property="MaxLength" Value="100" />
                                            </Style>
                                        </DataGridTextColumn.EditingElementStyle>
                                    </DataGridTextColumn>-->
															<DataGridTextColumn Header="{x:Static Properties:Resources.MAKE_NO}" Binding="{Binding Item.MAKE_NO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
															<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_CAUSE_TEXT}" Binding="{Binding Item.RTN_VNR_CAUSE_NAME, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
															<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_CAUSE_DESC}" Binding="{Binding Item.MEMO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />

														</DataGrid.Columns>
                                </controls:ValidationDataGrid>
                            </DockPanel>
                        </DockPanel>
                                            <!--<DockPanel>
                        <WrapPanel DockPanel.Dock="Top" Margin="5" HorizontalAlignment="Left">
                          <Button Content="{x:Static Properties:Resources.AddDetail}" Width="100" Height="35" Click="AddNewModeAddDetailButton_Click" IsEnabled="{Binding IsAddDetailButtonEnabled}" controls:PermissionService.FunctionId="BP1602010007" />
                          <Button Content="{x:Static Properties:Resources.MODIFY_DETAIL}" Width="100" Height="35" Margin="20,0,0,0" Click="AddNewModeModifyDetailButton_Click" Command="{Binding ModifyDetailCommand}" controls:PermissionService.FunctionId="BP1602010008" />
                          <Button Content="{x:Static Properties:Resources.DeltetDetail}" Width="100" Height="35" Margin="20,0" Click="AddNewModeDeleteDetailButton_Click" Command="{Binding DeleteDetailCommand}" controls:PermissionService.FunctionId="BP1602010009" />
                        </WrapPanel>
                        <DockPanel DockPanel.Dock="Top">
                          <controls:ValidationDataGrid Style="{StaticResource DgStyle}" Margin="5" DockPanel.Dock="Top" IsReadOnly="False" Name="AddNewReturnDetailDataGrid" CellStyle="{StaticResource WinSingleRowEdit}" SelectionUnit="FullRow" SelectionMode="Single" ItemsSource="{Binding AddNewF160201DetailList,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" SelectedItem="{Binding SelectedReturnDetaiItemForAddNew,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                            <DataGrid.Columns>
                              <DataGridCheckBoxColumn IsReadOnly="False" Binding="{Binding IsSelected,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                <DataGridCheckBoxColumn.HeaderTemplate>
                                  <DataTemplate>
                                    <CheckBox IsChecked="{Binding IsEditSelectedAll, ElementName=Vm, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Command="{Binding CheckEditAllCommand, ElementName=Vm}" Content="{x:Static res:Resources.SelectAll}"></CheckBox>
                                  </DataTemplate>
                                </DataGridCheckBoxColumn.HeaderTemplate>
                              </DataGridCheckBoxColumn>
                              <DataGridTextColumn Header="{x:Static res:Resources.ItemNumber}" IsReadOnly="True">
                                <DataGridTextColumn.Binding>
                                  <MultiBinding Converter="{StaticResource DataGridRowNumberConverter}">
                                    <Binding />
                                    <Binding RelativeSource="{RelativeSource FindAncestor,AncestorType=DataGrid}" />
                                  </MultiBinding>
                                </DataGridTextColumn.Binding>
                              </DataGridTextColumn>
                              <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_CODE}" Binding="{Binding Item.ITEM_CODE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_NAME}" Binding="{Binding Item.ITEM_NAME, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_SIZE}" Binding="{Binding Item.ITEM_SIZE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_SPEC}" Binding="{Binding Item.ITEM_SPEC, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_COLOR}" Binding="{Binding Item.ITEM_COLOR, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.SRC_WAREHOUSE_NAME}" Binding="{Binding Item.WAREHOUSE_NAME, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.SRC_LOC}" Binding="{Binding Item.LOC_CODE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,Converter={StaticResource StringToLocCodeConverter}}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.LOC_QTY}" Binding="{Binding Item.INVENTORY_QTY, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_QTY}" Binding="{Binding Item.RTN_VNR_QTY, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True,UpdateSourceTrigger=PropertyChanged}" IsReadOnly="False" >
                                <DataGridTextColumn.EditingElementStyle>
                                  <Style TargetType="TextBox">
                                    <Setter Property="MaxLength" Value="6" />
                                    <Setter Property="InputMethod.IsInputMethodEnabled" Value="False"/>
                                  </Style>
                                </DataGridTextColumn.EditingElementStyle>
                              </DataGridTextColumn>
                              <DataGridTextColumn Header="{x:Static Properties:Resources.MEMO}" Binding="{Binding Item.MEMO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="False" >
                                <DataGridTextColumn.EditingElementStyle>
                                  <Style TargetType="TextBox">
                                    <Setter Property="MaxLength" Value="100" />
                                  </Style>
                                </DataGridTextColumn.EditingElementStyle>
                              </DataGridTextColumn>
                            </DataGrid.Columns>
                          </controls:ValidationDataGrid>
                        </DockPanel>
                      </DockPanel>-->
                    </GroupBox>
                  </DockPanel>
                  <!--修改模式-->
                  <DockPanel Visibility="{Binding UserOperateMode ,Converter={StaticResource EnumToVisibilityConverter},ConverterParameter={x:Static uiLib:OperateMode.Edit}}">
                    <DockPanel DockPanel.Dock="Top" HorizontalAlignment="Stretch" Background="Beige">
                      <WrapPanel HorizontalAlignment="Center">
                        <TextBlock Text="{x:Static Properties:Resources.CREAT_VNR_RTN}" VerticalAlignment="Center" Foreground="Red" TextAlignment="Center" Margin="10,5,10,5" />
                        <TextBlock Text="&gt;&gt;" VerticalAlignment="Center" TextAlignment="Center" Margin="5" />
                        <TextBlock Text="{x:Static Properties:Resources.VNR_RTN_EXPORT}" VerticalAlignment="Center" TextAlignment="Center" Margin="10,5,10,5" />
                        <TextBlock Text="&gt;&gt;" VerticalAlignment="Center" TextAlignment="Center" Margin="5" />
                        <TextBlock Text="{x:Static Properties:Resources.VNR_RTN_COMPELETE}" VerticalAlignment="Center" TextAlignment="Center" Margin="10,5,10,5" />
                      </WrapPanel>
                    </DockPanel>
                    <WrapPanel DockPanel.Dock="Top" Margin="1">
                      <Grid>
                        <Grid.RowDefinitions>
                          <RowDefinition />
                          <RowDefinition />
                          <RowDefinition />
                          <RowDefinition />
                          <RowDefinition />
                          <RowDefinition />
                          <RowDefinition />
                          <RowDefinition />
                          <RowDefinition />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="Auto" />
                          <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Label Grid.Row="0" Grid.Column="0" Content="{x:Static res:Resources.Dc}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <ComboBox Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" Style="{StaticResource ComboStyle}" IsEnabled="False" ItemsSource="{Binding DcCodes}" IsReadOnly="True" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding EditF160201.DC_CODE, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="0" Grid.Column="2" Content="{x:Static Properties:Resources.ReceiptNoForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <TextBox Grid.Row="0" Grid.Column="3" Width="200" IsReadOnly="True" Style="{StaticResource TxtStyle}" Text="{Binding EditF160201.RTN_VNR_NO}" />
                        <Label Grid.Row="0" Grid.Column="4" Content="{x:Static Properties:Resources.SearchCUST_ORD_NO}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
												<TextBox Grid.Row="0" Grid.Column="5" Width="150" Style="{StaticResource TxtStyle}" Text="{Binding EditF160201.CUST_ORD_NO,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding IsNotEDI, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="1" Grid.Column="0" Content="{x:Static Properties:Resources.SelectSTATUS}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <TextBox Grid.Row="1" Grid.Column="1" Style="{StaticResource TxtStyle}" IsReadOnly="True" Text="{Binding EditF160201StatusText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="1" Grid.Column="2" Content="{x:Static Properties:Resources.ORD_PROP}" Style="{StaticResource LbTitleStyle}" />
                        <ComboBox Grid.Row="1" Grid.Column="3" VerticalAlignment="Center" Style="{StaticResource ComboStyle}" ItemsSource="{Binding ChangeTypes}" Width="200" IsEnabled="{Binding IsNotEDI, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" DisplayMemberPath="Name" SelectedValuePath="Value" Name="ChangeTypeComboBoxForEdit" SelectedValue="{Binding EditF160201.ORD_PROP, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
												<Label Grid.Row="1" Grid.Column="4" Content="{x:Static Properties:Resources.P1602010000_DeliveryWay}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}"></Label>
												<ComboBox Grid.Row="1" Grid.Column="5" Style="{StaticResource ComboStyle}" ItemsSource="{Binding DeliveryWayList, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding EditF160201.DELIVERY_WAY, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  />
												<Label Grid.Row="2" Grid.Column="0" Content="{x:Static Properties:Resources.RTN_VNR_DATE}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <DatePicker Grid.Row="2" Grid.Column="1" Style="{StaticResource DateStyle}" SelectedDate="{Binding EditF160201.RTN_VNR_DATE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding IsNotEDI, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="2" Grid.Column="2" Content="{x:Static Properties:Resources.RTN_VNR_TYPE_TEXT}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <ComboBox Grid.Row="2" Grid.Column="3" VerticalAlignment="Center" Width="200" Style="{StaticResource ComboStyle}" ItemsSource="{Binding ReturnTypes}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding EditF160201.RTN_VNR_TYPE_ID, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding IsNotEDI, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
												<Label Grid.Row="2" Grid.Column="4" Content="{x:Static Properties:Resources.P1602010000_TYPE_ID}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
												<ComboBox Grid.Row="2" Grid.Column="5" VerticalAlignment="Center" Style="{StaticResource ComboStyle}" ItemsSource="{Binding WarehouseTypeList}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding EditF160201.TYPE_ID, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
												<Label Grid.Row="3" Grid.Column="0" Content="{x:Static Properties:Resources.VendorCodeForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
												<TextBox Grid.Row="3" Grid.Column="1" Width="150" Name="EditVendorTextBox" MaxLength="20" Style="{StaticResource TxtStyle}" Text="{Binding EditF160201.VNR_CODE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True}" IsEnabled="{Binding IsNotEDI, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" PreviewKeyDown="VendorNo_OnPreviewKeyDown" PreviewLostKeyboardFocus="VendorTextBox_OnPreviewLostKeyboardFocus" />
                        <!--IsEnabled="{Binding IsNotEDI, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"-->
                        <Label Grid.Row="3" Grid.Column="2"  Content="{x:Static Properties:Resources.VendorNameForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <TextBox Grid.Row="3" Grid.Column="3" Width="200"  IsReadOnly="True" Style="{StaticResource TxtStyle}" Grid.ColumnSpan="3" Text="{Binding EditF160201VendorName}" />
                        <Label Grid.Row="3" Grid.Column="4" Content="{x:Static Properties:Resources.COSTCENTER}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <TextBox Grid.Row="3" Grid.Column="5" Width="150" MaxLength="50" Style="{StaticResource TxtStyle}" Text="{Binding EditF160201.COST_CENTER, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding IsNotEDI, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="5" Grid.Column="0" Content="{x:Static Properties:Resources.ADDRESS}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
												<TextBox Grid.Row="5" Grid.Column="1" Width="495" Style="{StaticResource TxtStyle}" Grid.ColumnSpan="3" Text="{Binding EditF160201.ADDRESS,Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="6" Grid.Column="0" Content="{x:Static Properties:Resources.CONTACT}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
												<TextBox Grid.Row="6" Grid.Column="1" Width="200" Style="{StaticResource TxtStyle}" Text="{Binding EditF160201.ITEM_CONTACT,Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
                        <Label Grid.Row="6" Grid.Column="2" Content="{x:Static Properties:Resources.TEL}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
												<TextBox Grid.Row="6" Grid.Column="3" Width="200"  Style="{StaticResource TxtStyle}" Text="{Binding EditF160201.ITEM_TEL,Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
                        <!--<Label Grid.Row="6" Grid.Column="2" Content="{x:Static Properties:Resources.MEMO}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                        <TextBox Grid.Row="6" Grid.Column="3" Width="460" MaxLength="300" Style="{StaticResource TxtStyle}" Grid.ColumnSpan="3" Text="{Binding EditF160201.MEMO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding IsNotEDI, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />-->
                        
                        <StackPanel Orientation="Horizontal" Grid.Row="8" Grid.Column="0">
                          <Label Content="{x:Static Properties:Resources.SelectDetailCount}" FontWeight="Bold" Foreground="Blue" Style="{StaticResource LbStyle}" />
                          <Label FontWeight="Bold" Foreground="Blue" Style="{StaticResource LbStyle}" Content="{Binding EditF160201DetailList.Count}" />
                        </StackPanel>
                      </Grid>
                    </WrapPanel>
                    <GroupBox Header="{x:Static Properties:Resources.VENDOR_RETURN_ITEM}" DockPanel.Dock="Top">
                      <DockPanel>
                          <WrapPanel DockPanel.Dock="Top" Margin="1">
                          <views:UcSearchProduct 
                              ItemCode="{Binding DataContext.ITEM_CODE,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Source={StaticResource ProxyElement}}" 
                              ItemName="{Binding DataContext.ITEM_NAME,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Source={StaticResource ProxyElement}}" 
                              ItemSize="{Binding DataContext.ITEM_SIZE,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Source={StaticResource ProxyElement}}" 
                              ItemSpec="{Binding DataContext.ITEM_SPEC,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Source={StaticResource ProxyElement}}" 
                              ItemColor="{Binding DataContext.ITEM_COLOR,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Source={StaticResource ProxyElement}}" 
                              SerialNo="{Binding DataContext.SERIAL_NO,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged,Source={StaticResource ProxyElement}}" 
                              IsEnabled="{Binding IsNotEDI,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
                          </WrapPanel>
                          <WrapPanel DockPanel.Dock="Top" Margin="1" HorizontalAlignment="Left">
                              <Label Content="{x:Static Properties:Resources.ReturnTotalCount}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                                                    <TextBox Text="{Binding RTN_VNR_QTY, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="155" HorizontalAlignment="Left" VerticalAlignment="Center" HorizontalContentAlignment="Right" Style="{StaticResource TxtStyle}" MaxLength="6" Height="35" InputMethod.IsInputMethodEnabled="False" IsEnabled="{Binding IsNotEDI,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
															<Label Margin="50,0,0,0" Content="{x:Static Properties:Resources.MAKE_NO}"  Style="{StaticResource LbTitleStyle}" />
                                                    <TextBox Text="{Binding MAKE_NO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="155" HorizontalAlignment="Left" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" MaxLength="40" Height="35" InputMethod.IsInputMethodEnabled="False" IsEnabled="{Binding IsNotEDI,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
												</WrapPanel>
												<WrapPanel DockPanel.Dock="Top" Margin="1" HorizontalAlignment="Left">
													<Label Content="{x:Static Properties:Resources.RTN_VNR_CAUSE_TEXT}" Style="{StaticResource LbTitleStyle}"/>
                                                    <ComboBox Style="{StaticResource ComboStyle}" ItemsSource="{Binding ReturnReasons}" SelectedValue="{Binding RTN_VNR_CAUSE,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" DisplayMemberPath="Name" SelectedValuePath="Value" IsEnabled="{Binding IsNotEDI,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"/>
													<Label  Margin="15,0,0,0" Content="{x:Static Properties:Resources.RTN_VNR_CAUSE_DESC}" Style="{StaticResource LbTitleStyle}"/>
													<TextBox Text="{Binding MEMO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Left" VerticalAlignment="Center" Style="{StaticResource TxtStyle}"  MaxLength="100" Width="400" Height="35" />
												</WrapPanel>
												<!--<WrapPanel DockPanel.Dock="Top" Margin="5" HorizontalAlignment="Left">
                              <Button Content="{x:Static Properties:Resources.AddDetail}" Width="100" Height="35" Click="AddNewModeAddDetailButton_Click" IsEnabled="{Binding IsAddDetailButtonEnabled}" controls:PermissionService.FunctionId="BP1602010007" />
                              <Button Content="{x:Static Properties:Resources.MODIFY_DETAIL}" Width="100" Height="35" Margin="20,0,0,0" Click="AddNewModeModifyDetailButton_Click" Command="{Binding ModifyDetailCommand}" controls:PermissionService.FunctionId="BP1602010008" />
                              <Button Content="{x:Static Properties:Resources.DeltetDetail}" Width="100" Height="35" Margin="20,0" Click="AddNewModeDeleteDetailButton_Click" Command="{Binding DeleteDetailCommand}" controls:PermissionService.FunctionId="BP1602010009" />
                          </WrapPanel>-->
                          <Grid DockPanel.Dock="Top">
                          <StackPanel Margin="5" HorizontalAlignment="Left" Orientation="Horizontal">
                            <Button Content="{x:Static Properties:Resources.AddDetail}" Width="100" Height="35" Click="EditModeAddDetailButton_Click" Command="{Binding AddDetailCommand}"  controls:PermissionService.FunctionId="BP1602010010" />
                            <Button Content="{x:Static Properties:Resources.MODIFY_DETAIL}" Width="100" Height="35" Margin="20,0,0,0"  Command="{Binding ModifyDetailCommandForEdit}" controls:PermissionService.FunctionId="BP1602010011" />
                            <Button Content="{x:Static Properties:Resources.DeltetDetail}" Width="100" Height="35" Margin="20,0" Click="EditModeDeleteDetailButton_Click" Command="{Binding DeleteDetailCommand}" controls:PermissionService.FunctionId="BP1602010012" />
                          </StackPanel>
                          <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,10,0" Visibility="{Binding EdiUiVisibility,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                            <TextBlock Margin="2,5,0,0" Text="{x:Static Properties:Resources.VNR_RTN_TOTAL}" />
                            <TextBlock Margin="2,5,0,0" MinWidth="20" Text="{Binding SelectedReturnDetaiItemForEdit.Item.ORIGINAL_RTN_VNR_QTY,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                            <TextBlock Text="/" Margin="2,5,0,0" />
                            <TextBlock Margin="2,5,0,0" MinWidth="20" Text="{Binding SelectedReturnDetaiItemForEdit.Item.RTN_VNR_QTY,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                          </StackPanel>
                        </Grid>
                        <DockPanel DockPanel.Dock="Top">
                          <controls:ValidationDataGrid Style="{StaticResource DgStyle}" Margin="5" DockPanel.Dock="Top" IsReadOnly="False" Name="EditReturnDetailDataGrid" CellStyle="{StaticResource WinSingleRowEdit}" SelectionUnit="FullRow" SelectionMode="Single" ItemsSource="{Binding EditF160201DetailList}" SelectedItem="{Binding SelectedReturnDetaiItemForEdit,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                            <DataGrid.Columns>
                              <DataGridCheckBoxColumn IsReadOnly="False" Binding="{Binding IsSelected,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                <DataGridCheckBoxColumn.HeaderTemplate>
                                  <DataTemplate>
                                    <CheckBox IsChecked="{Binding IsEditSelectedAll, ElementName=Vm, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Command="{Binding CheckEditAllCommand, ElementName=Vm}" Content="{x:Static res:Resources.SelectAll}"></CheckBox>
                                  </DataTemplate>
                                </DataGridCheckBoxColumn.HeaderTemplate>
                              </DataGridCheckBoxColumn>
                              <DataGridTextColumn Header="{x:Static res:Resources.ItemNumber}" IsReadOnly="True">
                                <DataGridTextColumn.Binding>
                                  <MultiBinding Converter="{StaticResource DataGridRowNumberConverter}">
                                    <Binding />
                                    <Binding RelativeSource="{RelativeSource FindAncestor,AncestorType=DataGrid}" />
                                  </MultiBinding>
                                </DataGridTextColumn.Binding>
                              </DataGridTextColumn>
                              <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_CODE}" Binding="{Binding Item.ITEM_CODE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_NAME}" Binding="{Binding Item.ITEM_NAME, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_SIZE}" Binding="{Binding Item.ITEM_SIZE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_SPEC}" Binding="{Binding Item.ITEM_SPEC, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_COLOR}" Binding="{Binding Item.ITEM_COLOR, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <!--<DataGridTextColumn Header="{x:Static Properties:Resources.SRC_WAREHOUSE_NAME}" Binding="{Binding Item.WAREHOUSE_NAME, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.SRC_LOC}" Binding="{Binding Item.LOC_CODE, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged,Converter={StaticResource StringToLocCodeConverter}}" IsReadOnly="True" />
                              <DataGridTextColumn Header="{x:Static Properties:Resources.LOC_QTY}" Binding="{Binding Item.INVENTORY_QTY, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />-->
															<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_QTY}" Binding="{Binding Item.RTN_VNR_QTY, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" >
																<!--<DataGridTextColumn.EditingElementStyle>
                                  <Style TargetType="TextBox">
                                    <Setter Property="MaxLength" Value="6" />
                                    <Setter Property="InputMethod.IsInputMethodEnabled" Value="False" />
                                  </Style>
                                </DataGridTextColumn.EditingElementStyle>-->
															</DataGridTextColumn>
															<DataGridTextColumn Header="{x:Static Properties:Resources.MAKE_NO}" Binding="{Binding Item.MAKE_NO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
															<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_CAUSE_TEXT}" Binding="{Binding Item.RTN_VNR_CAUSE_NAME, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
															<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_CAUSE_DESC}" Binding="{Binding Item.MEMO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="True" />
															<!--<DataGridTextColumn Header="{x:Static Properties:Resources.MEMO}" Binding="{Binding Item.MEMO, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsReadOnly="False" >
                                <DataGridTextColumn.EditingElementStyle>
                                  <Style TargetType="TextBox">
                                    <Setter Property="MaxLength" Value="100" />
                                  </Style>
                                </DataGridTextColumn.EditingElementStyle>
                              </DataGridTextColumn>-->
                            </DataGrid.Columns>
                          </controls:ValidationDataGrid>
                        </DockPanel>
                      </DockPanel>
                    </GroupBox>
                  </DockPanel>
                </DockPanel>
              </ScrollViewer>
            </DockPanel>
          </TabItem>
        </TabControl>
      </uiLib:BasicMaster.MainContent>
    </uiLib:BasicMaster>
  </telerik:RadBusyIndicator>
</uiLib:Wms3plUserControl>