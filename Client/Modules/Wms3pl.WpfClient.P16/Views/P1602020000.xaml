<?xml version="1.0" encoding="utf-8"?>
<uiLib:Wms3plUserControl x:Class="Wms3pl.WpfClient.P16.Views.P1602020000" xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" mc:Ignorable="d" xmlns:uiLib="clr-namespace:Wms3pl.WpfClient.UILib;assembly=Wms3pl.WpfClient.UILib" xmlns:controls="clr-namespace:Wms3pl.WpfClient.UILib.Controls;assembly=Wms3pl.WpfClient.UILib" xmlns:common="clr-namespace:Wms3pl.WpfClient.Common;assembly=Wms3pl.WpfClient.Common" xmlns:viewModel="clr-namespace:Wms3pl.WpfClient.P16.ViewModel" xmlns:Properties="clr-namespace:Wms3pl.WpfClient.P16.Properties" xmlns:res="clr-namespace:Wms3pl.WpfClient.Resources;assembly=Wms3pl.WpfClient.Resources" xmlns:converters="clr-namespace:Wms3pl.WpfClient.Common.Converters;assembly=Wms3pl.WpfClient.Common" x:Name="Window" Margin="0,0,0,0" HorizontalAlignment="Stretch" FontSize="18" controls:PermissionService.FunctionId="P1602020000" controls:PermissionService.FunctionName="廠退出貨" FormException="{Binding Exception}">
	<uiLib:Wms3plUserControl.DataContext>
		<viewModel:P1602020000_ViewModel x:Name="Vm" />
	</uiLib:Wms3plUserControl.DataContext>
	<uiLib:Wms3plUserControl.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="/Wms3pl.WpfClient.UILib;component/Generic.xaml" />
			</ResourceDictionary.MergedDictionaries>
			<common:NotConverter x:Key="NotConverter" />
			<converters:EnumToVisibilityConverter x:Key="EnumToVisibilityConverter" />
			<converters:EnumToNotVisibilityConverter x:Key="EnumToNotVisibilityConverter" />
			<converters:EnumToNotBooleanConverter x:Key="EnumToNotBooleanConverter"/>
			<converters:DateTimeToStringConverter x:Key="DateTimeToStringConverter" />
			<converters:StringToBoolConverter x:Key="StringToBoolConverter" />
			<converters:DataGridRowNumberConverter x:Key="DataGridRowNumberConverter" />
			<converters:BoolToVisiablityConverter x:Key="BoolToVisiablityConverter"/>
		</ResourceDictionary>
	</uiLib:Wms3plUserControl.Resources>
	<telerik:RadBusyIndicator x:Name="GridBusyIndicator" BusyContent="{x:Static res:Resources.Loading}" IsIndeterminate="False" IsBusy="{Binding IsBusy}">
		<uiLib:BasicMaster x:Name="Master">
			<uiLib:BasicMaster.ToolBarArea>
				<WrapPanel>
					<Button Style="{StaticResource SearchButton}" controls:PermissionService.FunctionId="BP1602020001" Command="{Binding SearchCommand}" />
					<Button Style="{StaticResource AddButton}" controls:PermissionService.FunctionId="BP1602020002" Command="{Binding AddCommand}" />
					<Button Style="{StaticResource CancelButton}" controls:PermissionService.FunctionId="BP1602020003" Command="{Binding CancelCommand}" />
					<Button Style="{StaticResource SaveButton}" controls:PermissionService.FunctionId="BP1602020004" Command="{Binding SaveCommand}" IsEnabled="{Binding Path=(Validation.HasError), ElementName=LayoutRoot, Converter={StaticResource NotConverter}}" />
				</WrapPanel>
			</uiLib:BasicMaster.ToolBarArea>
			<uiLib:BasicMaster.MainContent>
				<TabControl x:Name="LayoutRoot">
					<TabControl.BindingGroup>
						<BindingGroup Name="errorGroup" />
					</TabControl.BindingGroup>
					<TabItem Header="{x:Static res:Resources.Main}" Width="Auto">
						<DockPanel>
							<ScrollViewer>
								<DockPanel>
									<!--查詢-->
									<DockPanel Visibility="{Binding UserOperateMode,Converter={StaticResource EnumToVisibilityConverter},ConverterParameter={x:Static uiLib:OperateMode.Query}}">
										<GroupBox Header="{x:Static res:Resources.QueryCondition}" DockPanel.Dock="Top">
											<Expander IsExpanded="{Binding IsShowSearchCondition,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
												<Grid>
													<Grid.RowDefinitions>
														<RowDefinition Height="*" />
														<RowDefinition Height="*" />
														<RowDefinition Height="*" />
														<RowDefinition Height="*" />
														<RowDefinition Height="*" />
													</Grid.RowDefinitions>
													<Grid.ColumnDefinitions>
														<ColumnDefinition Width="Auto" />
														<ColumnDefinition Width="Auto" />
														<ColumnDefinition Width="Auto" />
														<ColumnDefinition Width="Auto" />
														<ColumnDefinition Width="Auto" />
														<ColumnDefinition Width="Auto" />
													</Grid.ColumnDefinitions>
													<Label Grid.Row="0" Grid.Column="0" Content="{x:Static res:Resources.Dc}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
													<ComboBox Grid.Row="0" Grid.Column="1" Style="{StaticResource ComboStyle}" Name="DComboBox" ItemsSource="{Binding DcCodes}" Width="200" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding DcCodeForSearch, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
													<Label Grid.Row="0" Grid.Column="2" Content="{x:Static res:Resources.CRT_DATE}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
													<DatePicker Grid.Row="0" Grid.Column="3" Style="{StaticResource DateStyle}" Width="200" SelectedDate="{Binding CreateDateBeginForSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
													<Label Content=" ~ " Grid.Row="0" Grid.Column="4" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
													<DatePicker Grid.Row="0" Grid.Column="5" Style="{StaticResource DateStyle}" Width="200" SelectedDate="{Binding CreateDateEndForSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
													<Label Grid.Row="1" Grid.Column="0" Content="{x:Static Properties:Resources.ReturnWmsNo}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
													<TextBox Grid.Row="1" Grid.Column="1" Width="200" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" Text="{Binding ReturnWmsNo,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" MaxLength="20" InputMethod.IsInputMethodEnabled="False" />
													<Label Grid.Row="1" Grid.Column="2" Content="{x:Static Properties:Resources.ReceiptNoForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
													<TextBox Grid.Row="1" Grid.Column="3" Width="200" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" Text="{Binding ReturnVendorNo,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" MaxLength="20" InputMethod.IsInputMethodEnabled="False" />
													<Label Grid.Row="1" Grid.Column="4" Content="{x:Static Properties:Resources.WmsOrderNo}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
													<TextBox Grid.Row="1" Grid.Column="5" VerticalAlignment="Center" Width="200" Style="{StaticResource TxtStyle}" Text="{Binding WmsOrderNo,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" MaxLength="20" InputMethod.IsInputMethodEnabled="False" />
                          <Label Grid.Row="2" Grid.Column="0" Content="{x:Static Properties:Resources.EmpID}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
                          <TextBox Grid.Row="2" Grid.Column="1" VerticalAlignment="Center" Width="200" Style="{StaticResource TxtStyle}" Text="{Binding EmpId,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" MaxLength="20" InputMethod.IsInputMethodEnabled="False" />
                          <Label Grid.Row="2" Grid.Column="2" Content="{x:Static Properties:Resources.EmpName}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}"  Foreground="Blue"/>
                          <TextBox Grid.Row="2" Grid.Column="3" VerticalAlignment="Center" Width="200" Style="{StaticResource TxtStyle}" Text="{Binding EmpName,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" MaxLength="20" InputMethod.IsInputMethodEnabled="True" />
													<Label Grid.Row="2" Grid.Column="4" Content="{x:Static Properties:Resources.SearchCUST_ORD_NO}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
													<TextBox Grid.Row="2" Grid.Column="5" VerticalAlignment="Center" Width="200" Style="{StaticResource TxtStyle}" Text="{Binding CustOrdNo,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" MaxLength="20" InputMethod.IsInputMethodEnabled="False" />
												</Grid>
											</Expander>
										</GroupBox>
										<GroupBox Header="{x:Static res:Resources.OueryResult}" DockPanel.Dock="Top">
											<Expander IsExpanded="{Binding IsShowSearchResult,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
												<DataGrid Style="{StaticResource DgStyle}" ItemsSource="{Binding SearchResultForSerach}" SelectedItem="{Binding SearchResultForSerachSelectedItem,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" Height="200">
													<DataGrid.Columns>
														<DataGridTextColumn Header="{x:Static res:Resources.CRT_DATE}" Binding="{Binding CRT_DATE,Converter={StaticResource DateTimeToStringConverter}, ConverterParameter='yyyy/MM/dd'}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ReturnWmsNo}" Binding="{Binding RTN_WMS_NO}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.VendorCodeForSearch}" Binding="{Binding VNR_CODE}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.VendorNameForSearch}" Binding="{Binding VNR_NAME}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ORD_PROP}" Binding="{Binding ORD_PROP_TEXT}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.P1602020000_DISTR_CAR}" Binding="{Binding DELIVERY_WAY_NAME}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.P1602020000_TYPE_ID}" Binding="{Binding TYPE_NAME}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.P1602020000_ITEM_CONTACT}" Binding="{Binding ITEM_CONTACT}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.P1602020000_ITEM_TEL}" Binding="{Binding ITEM_TEL}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.P1602020000_ADDRESS}" Binding="{Binding ADDRESS}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.P1602020000_CRT_NAME}" Binding="{Binding CRT_NAME}" />
                                                        <DataGridTextColumn Header="{x:Static Properties:Resources.P1602020000_RTN_WMS_DATE}" Binding="{Binding RTN_WMS_DATE,Converter={StaticResource DateTimeToStringConverter}, ConverterParameter='yyyy/MM/dd HH:mm:ss'}" />
                                                        <DataGridTextColumn Header="備註原因" Binding="{Binding MEMO}" />
                                                    </DataGrid.Columns>
												</DataGrid>
											</Expander>
										</GroupBox>
										<GroupBox Header="{x:Static Properties:Resources.WMS_ORD_NO_DETAIL}">
											<!--<ScrollViewer>-->
											<DockPanel>
												<GroupBox Header="{x:Static Properties:Resources.WMS_ORDNO}" DockPanel.Dock="Bottom">
													<DataGrid Style="{StaticResource DgStyle}" ItemsSource="{Binding F050801Q}" Name="OrderDataGrid" MouseDoubleClick="OrderDataGrid_OnMouseDoubleClick">
														<DataGrid.Columns>
															<DataGridTextColumn Header="{x:Static res:Resources.ItemNumber}">
																<DataGridTextColumn.Binding>
																	<MultiBinding Converter="{StaticResource DataGridRowNumberConverter}">
																		<Binding />
																		<Binding RelativeSource="{RelativeSource FindAncestor,AncestorType=DataGrid}" />
																	</MultiBinding>
																</DataGridTextColumn.Binding>
															</DataGridTextColumn>
															<DataGridTextColumn Header="{x:Static Properties:Resources.WmsOrderNo}" Binding="{Binding WMS_ORD_NO}" />
														</DataGrid.Columns>
													</DataGrid>
												</GroupBox>
												<DataGrid Style="{StaticResource DgStyle}" ItemsSource="{Binding SearchResultForSerachDetail}" DockPanel.Dock="Top">
													<DataGrid.Columns>
														<DataGridTextColumn Header="{x:Static res:Resources.ItemNumber}">
															<DataGridTextColumn.Binding>
																<MultiBinding Converter="{StaticResource DataGridRowNumberConverter}">
																	<Binding />
																	<Binding RelativeSource="{RelativeSource FindAncestor,AncestorType=DataGrid}" />
																</MultiBinding>
															</DataGridTextColumn.Binding>
														</DataGridTextColumn>
														<DataGridTextColumn Header="{x:Static Properties:Resources.ReceiptNoForSearch}" Binding="{Binding RTN_VNR_NO}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ReceiptSeqForSearch}" Binding="{Binding RTN_VNR_SEQ}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.SearchCUST_ORD_NO}" Binding="{Binding CUST_ORD_NO}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.VendorCodeForSearch}" Binding="{Binding VNR_CODE}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.VendorNameForSearch}" Binding="{Binding VNR_NAME}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_CODE}" Binding="{Binding ITEM_CODE}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_NAME}" Binding="{Binding ITEM_NAME}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_SIZE}" Binding="{Binding ITEM_SIZE}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_SPEC}" Binding="{Binding ITEM_SPEC}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_COLOR}" Binding="{Binding ITEM_COLOR}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.MAKE_NO}" Binding="{Binding MAKE_NO}" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_QTY}" Binding="{Binding RTN_WMS_QTY}" />
													</DataGrid.Columns>
												</DataGrid>
											</DockPanel>
											<!--</ScrollViewer>-->
										</GroupBox>
									</DockPanel>
									<!--新增廠退單-->
									<DockPanel Visibility="{Binding UserOperateMode,Converter={StaticResource EnumToNotVisibilityConverter},ConverterParameter={x:Static uiLib:OperateMode.Query}}">
										<GroupBox Header="{x:Static Properties:Resources.DcCodeForAddNewSearch}" DockPanel.Dock="Top">
											<DockPanel>
												<Expander IsExpanded="{Binding IsShowSearchConditionForAddNew,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
													<DockPanel>
														<WrapPanel DockPanel.Dock="TOP" Margin="5">
															<Grid>
																<Grid.RowDefinitions>
																	<RowDefinition Height="*" />
																	<RowDefinition Height="*" />
																	<RowDefinition Height="*" />
																	<RowDefinition Height="*" />
																	<RowDefinition Height="*" />
																</Grid.RowDefinitions>
																<Grid.ColumnDefinitions>
																	<ColumnDefinition Width="Auto" />
																	<ColumnDefinition Width="Auto" />
																	<ColumnDefinition Width="Auto" />
																	<ColumnDefinition Width="Auto" />
																	<ColumnDefinition Width="Auto" />
																	<ColumnDefinition Width="Auto" />
																</Grid.ColumnDefinitions>
																<Label Grid.Row="0" Grid.Column="0" Content="{x:Static res:Resources.Dc}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
																<ComboBox Grid.Row="0" Grid.Column="1" Style="{StaticResource ComboStyle}" Name="DComboBoxForAddNew" ItemsSource="{Binding DcCodes}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding DcCodeForAddNewSearch, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" />
																<Label Grid.Row="0" Grid.Column="2" Content="{x:Static res:Resources.CRT_DATE}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
																<DatePicker Grid.Row="0" Grid.Column="3" Style="{StaticResource DateStyle}" SelectedDate="{Binding CreateDateBeginForAddNewSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
																<Label Content=" ~ " Grid.Row="0" Grid.Column="4" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
																<DatePicker Grid.Row="0" Grid.Column="5" Style="{StaticResource DateStyle}" SelectedDate="{Binding CreateDateEndForAddNewSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
																<Label Grid.Row="1" Grid.Column="0" Content="{x:Static Properties:Resources.ReceiptNoForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
																<TextBox Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" Text="{Binding ReturnVendorNoForAddNewSearch,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" MaxLength="20" InputMethod.IsInputMethodEnabled="False" />
																<Label Grid.Row="1" Grid.Column="2" Content="{x:Static Properties:Resources.RTN_VNR_DATE}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
																<DatePicker Grid.Row="1" Grid.Column="3" Style="{StaticResource DateStyle}" SelectedDate="{Binding ReturnVendorDateBeginForAddNewSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
																<Label Content=" ~ " Grid.Row="1" Grid.Column="4" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
																<DatePicker Grid.Row="1" Grid.Column="5" Style="{StaticResource DateStyle}" SelectedDate="{Binding ReturnVendorDateEndForAddNewSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
																<Label Grid.Row="2" Grid.Column="0" Content="{x:Static Properties:Resources.RTN_VNR_TYPE_TEXT}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
																<ComboBox Grid.Row="2" Grid.Column="1" Style="{StaticResource ComboStyle}" ItemsSource="{Binding ReturnTypes}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding ReturnVendorTypeForAddNewSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />																
																<Label Grid.Row="2" Grid.Column="2" Content="{x:Static Properties:Resources.VendorCodeForSearch}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
																<TextBox Grid.Row="2" Grid.Column="3" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" Text="{Binding VendorCodeForAddNewSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" MaxLength="20" InputMethod.IsInputMethodEnabled="False" />
																<Label Grid.Row="2" Grid.Column="4" Content="{x:Static Properties:Resources.VendorNameForSearch}" Foreground="Blue" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
																<TextBox Grid.Row="2" Grid.Column="5" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" Text="{Binding VendorNameForAddNewSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" PreviewLostKeyboardFocus="VendorTextBox_OnPreviewLostKeyboardFocus" MaxLength="60" />
																<Button Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="2" Width="100" Height="35" Content="{x:Static res:Resources.Query}" VerticalAlignment="Center" Command="{Binding AddNewSearchCommand}" />
																<Label Grid.Row="3" Grid.Column="0" Content="{x:Static Properties:Resources.P1602020000_TYPE_ID}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
																<ComboBox Grid.Row="3" Grid.Column="1" Style="{StaticResource ComboStyle}" ItemsSource="{Binding WarehouseTypeList}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding SelectedWarehouseType, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  />
																<Label Grid.Row="3" Grid.Column="2" Content="{x:Static Properties:Resources.SearchCUST_ORD_NO}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
																<TextBox Grid.Row="3" Grid.Column="3" VerticalAlignment="Center" Style="{StaticResource TxtStyle}" Text="{Binding CustOrdNoForAddNewSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" PreviewLostKeyboardFocus="VendorTextBox_OnPreviewLostKeyboardFocus" MaxLength="20" />
																<Label Grid.Row="3" Grid.Column="4" Content="{x:Static Properties:Resources.DelvType}" HorizontalAlignment="Right" Style="{StaticResource LbStyle}" />
																<ComboBox Grid.Row="3" Grid.Column="5" Style="{StaticResource ComboStyle}" ItemsSource="{Binding DelvTypeList}" DisplayMemberPath="Name" SelectedValuePath="Value" SelectedValue="{Binding SelectedDelvType, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding IsDelvTypeUsable,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
															</Grid>
														</WrapPanel>
														<!--尚未完成出貨扣帳的廠退單-->
														<controls:ValidationDataGrid Style="{StaticResource DgStyle}" IsReadOnly="False" Name="F160201DataGrid" CellStyle="{StaticResource WinSingleRowEdit}" ItemsSource="{Binding AddNewSearchResult}" SelectionUnit="FullRow" SelectionMode="Single" SelectedItem="{Binding AddNewSearchResultSelectedItem,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
															<DataGrid.Columns>
																<DataGridCheckBoxColumn IsReadOnly="False" Binding="{Binding IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
																	<DataGridCheckBoxColumn.HeaderTemplate>
																		<DataTemplate>
																			<CheckBox IsChecked="{Binding IsAddNewSearchResultSelectedAll, ElementName=Vm, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Command="{Binding AddNewSearchResultSelectedAllCommand, ElementName=Vm}" Content="{x:Static res:Resources.SelectAll}" />
																		</DataTemplate>
																	</DataGridCheckBoxColumn.HeaderTemplate>
																</DataGridCheckBoxColumn>
																<DataGridTextColumn Header="{x:Static res:Resources.CRT_DATE}" Binding="{Binding Item.CRT_DATE,Converter={StaticResource DateTimeToStringConverter}, ConverterParameter='yyyy/MM/dd'}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_DATE}" Binding="{Binding Item.RTN_VNR_DATE,Converter={StaticResource DateTimeToStringConverter}, ConverterParameter='yyyy/MM/dd'}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.ReceiptNoForSearch}" Binding="{Binding Item.RTN_VNR_NO}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.SearchCUST_ORD_NO}" Binding="{Binding Item.CUST_ORD_NO}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.VendorCodeForSearch}" Binding="{Binding Item.VNR_CODE}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.VendorNameForSearch}" Binding="{Binding Item.VNR_NAME}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_TYPE_TEXT}" Binding="{Binding Item.RTN_VNR_TYPE_TEXT}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.ORD_PROP}" Binding="{Binding Item.ORD_PROP_TEXT}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.P1602020000_TYPE_ID}" Binding="{Binding Item.TYPE_NAME}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.P1602020000_DISTR_CAR}" Binding="{Binding Item.DELIVERY_WAY_NAME}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.P1602020000_ITEM_CONTACT}" Binding="{Binding Item.ITEM_CONTACT}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.P1602020000_ITEM_TEL}" Binding="{Binding Item.ITEM_TEL}" IsReadOnly="True" />
																<DataGridTextColumn Header="{x:Static Properties:Resources.P1602020000_ADDRESS}" Binding="{Binding Item.ADDRESS}" IsReadOnly="True" />
															</DataGrid.Columns>
														</controls:ValidationDataGrid>
													</DockPanel>
												</Expander>
											</DockPanel>
										</GroupBox>
										<WrapPanel DockPanel.Dock="Top">
											<!--匯入明細-->
											<Button Width="100" Height="35" Content="{x:Static Properties:Resources.IMPORT_DETAIL}" Command="{Binding ImportDetailDataCommand}" />
											<!--刪除明細-->
											<Button Width="100" Height="35" Content="{x:Static Properties:Resources.DeltetDetail}" Margin="30,0,0,0" Command="{Binding DeleteDetailDataCommand}" />
										</WrapPanel>
										<GroupBox Header="{x:Static Properties:Resources.VENDOR_RETURN_ORD_DETAIL}">
											<DockPanel>
												<!--廠退出貨明細-->
												<controls:ValidationDataGrid Style="{StaticResource DgStyle}" IsReadOnly="False" Name="F160204DataGrid" CellStyle="{StaticResource WinSingleRowEdit}" ItemsSource="{Binding AddNewReturnWmsDetails}" SelectionUnit="FullRow" SelectionMode="Single">
													<DataGrid.Columns>
														<DataGridCheckBoxColumn Binding="{Binding IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
															<DataGridCheckBoxColumn.HeaderTemplate>
																<DataTemplate>
																	<CheckBox IsChecked="{Binding IsAddNewReturnWmsDetailsSelectedAll, ElementName=Vm, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Command="{Binding AddNewReturnWmsDetailsSelectedAllCommand, ElementName=Vm}" Content="{x:Static res:Resources.SelectAll}" />
																</DataTemplate>
															</DataGridCheckBoxColumn.HeaderTemplate>
														</DataGridCheckBoxColumn>
														<DataGridTextColumn Header="{x:Static Properties:Resources.ReceiptNoForSearch}" Binding="{Binding Item.RTN_VNR_NO}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.SearchCUST_ORD_NO}" Binding="{Binding Item.CUST_ORD_NO}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ReceiptSeqForSearch}" Binding="{Binding Item.RTN_VNR_SEQ_SHOW}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.VendorCodeForSearch}" Binding="{Binding Item.VNR_CODE}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.VendorNameForSearch}" Binding="{Binding Item.VNR_NAME}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_CODE}" Binding="{Binding Item.ITEM_CODE}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_NAME}" Binding="{Binding Item.ITEM_NAME}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_SIZE}" Binding="{Binding Item.ITEM_SIZE}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_SPEC}" Binding="{Binding Item.ITEM_SPEC}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.ITEM_COLOR}" Binding="{Binding Item.ITEM_COLOR}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.MAKE_NO}" Binding="{Binding Item.MAKE_NO}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_QTY}" Binding="{Binding Item.RTN_VNR_QTY_SUM}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_WMS_QTY}" Binding="{Binding Item.RTN_VNR_QTY_GRAND_TOTAL}" IsReadOnly="True" />
														<DataGridTextColumn Header="{x:Static Properties:Resources.RTN_VNR_QTY_REMAINDER}" Binding="{Binding Item.RTN_VNR_QTY_REMAINDER, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=\{0:N0\}}" >
															<DataGridTextColumn.EditingElementStyle>
																<Style TargetType="TextBox">
																	<Setter Property="MaxLength" Value="6" />
																	<Setter Property="InputMethod.IsInputMethodEnabled" Value="False" />
																</Style>
															</DataGridTextColumn.EditingElementStyle>
														</DataGridTextColumn>
													</DataGrid.Columns>
												</controls:ValidationDataGrid>
											</DockPanel>
										</GroupBox>
									</DockPanel>
								</DockPanel>
							</ScrollViewer>
						</DockPanel>
					</TabItem>
				</TabControl>
			</uiLib:BasicMaster.MainContent>
		</uiLib:BasicMaster>
	</telerik:RadBusyIndicator>
</uiLib:Wms3plUserControl>